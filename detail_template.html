<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{{PAGE_TITLE}}</title>
<style>
  :root{
    --blue:#1d4ed8; --blue-quiet:#eaf2ff; --blue-deep:#1e40af;
    --green:#16a34a; --green-quiet:#e8f7ee;
    --red:#dc2626;   --red-quiet:#fde8e8;
    --ink:#0b0f19;   --muted:#6b7280; --line:#e6e9ef; --bg:#f8fafc; --white:#fff;
    --radius:14px;
  }
  *,*::before,*::after{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);
       font:15px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}

  a{color:var(--blue);text-decoration:none}
  a:hover{text-decoration:underline}

  header{position:sticky;top:0;z-index:40;background:linear-gradient(90deg,#0b0f19,#1e40af);
         color:#fff;box-shadow:0 10px 24px rgba(0,0,0,.18)}
  .h-inner{max-width:1100px;margin:0 auto;padding:14px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
  .h-title{display:flex;flex-direction:column;gap:6px}
  .h-title h1{margin:0;font-size:clamp(18px,2.2vw,24px);font-weight:900;letter-spacing:.2px}
  .badges{display:flex;gap:8px;flex-wrap:wrap}
  .badge{background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.28);
         color:#fff;padding:4px 10px;border-radius:999px;font-size:12px}
  .brand{display:flex;align-items:center;gap:8px}
  .brand img{height:28px;display:block;filter:drop-shadow(0 2px 2px rgba(0,0,0,.35))}
  /* tiny back button on the right, next to logo */
  .back{display:inline-flex;align-items:center;gap:6px;font-weight:700;font-size:12px;
        background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.35);
        border-radius:999px;padding:4px 8px;color:#fff;text-decoration:none}
  .back:hover{background:rgba(255,255,255,.18);text-decoration:none}

  /* Anchor menu: render as buttons (only change requested) */
  nav{background:#e9f1ff;border-bottom:1px solid var(--line)}
  nav .tabs{max-width:1100px;margin:0 auto;padding:8px 18px;display:flex;gap:10px;flex-wrap:wrap}
  nav .tabs a{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:10px;
              border:1px solid var(--blue);background:#fff;color:var(--blue);
              font-weight:800;font-size:13px;text-decoration:none}
  nav .tabs a:hover{background:var(--blue);color:#fff;text-decoration:none}

  main{max-width:1100px;margin:18px auto;padding:0 18px}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}

  .card{background:#fff;border:1px solid var(--line);border-radius:var(--radius);padding:16px}
  .card h2{margin:0 0 10px;font-size:18px}

  .kv{display:grid;grid-template-columns:max(160px) 1fr;gap:10px;font-size:14px}
  .kv .lbl{color:#111;font-weight:700}
  .kv .val{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}

  .kpis{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
  .kpi{flex:1 1 160px;border:1px solid var(--line);border-radius:12px;padding:12px;text-align:center;background:#fff}
  .kpi .label{font-size:12px;color:var(--muted);font-weight:800}
  .kpi .value{margin-top:2px;font-size:24px;font-weight:900}
  .kpi.new   {background:var(--green-quiet)} .kpi.new .value{color:var(--green)}
  .kpi.chg   {background:var(--blue-quiet)}  .kpi.chg .value{color:var(--blue)}
  .kpi.rm    {background:var(--red-quiet)}   .kpi.rm  .value{color:var(--red)}

  .list{list-style:none;margin:0;padding:0;display:grid;gap:12px}
  .row{display:flex;align-items:center;justify-content:space-between;gap:12px;border:1px solid var(--line);border-radius:12px;padding:12px}
  .row .info{display:flex;flex-direction:column}
  .row .title{font-weight:800}
  .row .desc{font-size:13px;color:var(--muted)}
  .btns{display:flex;gap:8px}
  .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:9px 12px;border-radius:10px;font-weight:800;font-size:13px;transition:.15s}
  .btn.outline{background:#fff;border:1px solid var(--blue);color:var(--blue)}
  .btn.outline:hover{background:var(--blue);color:#fff}

  .section{margin-top:18px}
  .section .head{display:flex;align-items:center;gap:10px;margin-bottom:10px}
  .head .bar{width:4px;height:16px;background:var(--blue-deep);border-radius:2px}
  .note{color:var(--muted);font-size:14px}

  .three{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .col{grid-column:span 12;background:#fff;border:1px solid var(--line);border-radius:12px;padding:12px}
  @media(min-width:860px){.col{grid-column:span 4}}
  .col h3{margin:0 0 6px;font-size:15px;color:#0f172a}

  .typecounts{list-style:none;margin:4px 0 0;padding:0;display:grid;gap:6px}
  .typecounts li{display:flex;justify-content:space-between;gap:10px;padding:6px 8px;border:1px dashed var(--line);border-radius:8px}
  .typecounts li .t{color:#111 !important;}
  .typecounts li .c{font-weight:800 !important;}
  #bytype .col.new  .typecounts li .c{color:var(--green) !important;}
  #bytype .col.chg  .typecounts li .c{color:var(--blue)  !important;}
  #bytype .col.rm   .typecounts li .c{color:var(--red)   !important;}

  footer{background:#0f172a;color:#e2e8f0;text-align:center;padding:6px 10px;margin:24px 0 0;border-top:1px solid #0b1220;font-size:12px;line-height:1.2}
</style>
</head>
<body>

<header>
  <div class="h-inner">
    <div class="h-title">
      <h1>{{TITLE_HEADING}}</h1>
      <div class="badges">
        <span class="badge">API Version: <strong>{{API_VERSION}}</strong></span>
        <span class="badge">Report Date: <strong>{{REPORT_DATE}}</strong></span>
      </div>
    </div>
    <div class="brand">
      <img src="{{LOGO_HREF}}" alt="Cadence logo"
           onerror="this.onerror=null; this.src='{{LOGO_HREF}}'">
      <a class="back" href="../index.html" title="Back to Master">‚Üê Back</a>
    </div>
  </div>
</header>

<nav>
  <div class="tabs">
    <a href="#summary">Summary</a>
    <a href="#downloads">Artifacts &amp; Downloads</a>
    <a href="#diffonly">Diff Only Code Comparison Report</a>
    <a href="#bytype">Changes by Type</a>
  </div>
</nav>

<main>
  <section id="summary" class="grid">
    <div class="card" style="grid-column: span 7;">
      <div class="head"><span class="bar"></span><h2>Summary</h2></div>
      <div class="kv">
        <div class="lbl">Previous Dump</div><div class="val">{{PREVIOUS_LABEL}}</div>
        <div class="lbl">Latest Dump</div><div class="val">{{LATEST_LABEL}}</div>
      </div>
      <p class="note" style="margin-top:8px">
        Comparison is against the <strong>Latest</strong> dump. Files are classified as
        <strong>New</strong> (added), <strong>Changed</strong> (content differs), or
        <strong>Removed</strong> (present before, missing now).
      </p>
      <div class="kpis">
        <div class="kpi new"><div class="label"><strong>New Files</strong></div><div class="value">{{KPI_NEW}}</div></div>
        <div class="kpi chg"><div class="label"><strong>Changed Files</strong></div><div class="value">{{KPI_CHANGED}}</div></div>
        <div class="kpi rm"><div class="label"><strong>Removed Files</strong></div><div class="value">{{KPI_REMOVED}}</div></div>
      </div>
    </div>

    <div class="card" style="grid-column: span 5;">
      <div class="head"><span class="bar"></span><h2>Quick Access</h2></div>
      <ul class="list">
        <li class="row"><div class="info"><span class="title">Previous Dump</span><span class="desc">Browse files in the earlier snapshot</span></div><div class="btns"><a class="btn outline" href="{{PREVIOUS_LINK}}" target="_blank">Open</a></div></li>
        <li class="row"><div class="info"><span class="title">Latest Dump</span><span class="desc">Browse files in the current snapshot</span></div><div class="btns"><a class="btn outline" href="{{LATEST_LINK}}" target="_blank">Open</a></div></li>
      </ul>
    </div>
  </section>

  <section id="downloads" class="section card">
    <div class="head"><span class="bar"></span><h2>Artifacts &amp; Downloads</h2></div>
    <ul class="list">
      <li class="row">
        <div class="info">
          <span class="title">CSV Report Link</span>
          <span class="desc">Open the full changes list (SharePoint).</span>
        </div>
        <div class="btns">
          <a class="btn outline" href="{{CSV_FULL}}" target="_blank" rel="noopener">{{CSV_FULL_LABEL}}</a>
        </div>
      </li>
      <li class="row">
        <div class="info"><span class="title">New Files in Latest (CSV)</span><span class="desc">Files that did not exist in the Previous dump.</span></div>
        <div class="btns"><a class="btn outline" href="{{CSV_NEW}}" download>Download CSV</a></div>
      </li>
      <li class="row">
        <div class="info"><span class="title">Removed Files (Missing in Latest) (CSV)</span><span class="desc">Files present in Previous but missing now.</span></div>
        <div class="btns"><a class="btn outline" href="{{CSV_REMOVED}}" download>Download CSV</a></div>
      </li>
      <li class="row">
        <div class="info"><span class="title">Run Log</span><span class="desc">Execution log of this comparison.</span></div>
        <div class="btns"><a class="btn outline" href="{{RUN_LOG_LINK}}" target="_blank">Open Log</a></div>
      </li>
    </ul>
  </section>

  <section id="diffonly" class="section card">
    <div class="head"><span class="bar"></span><h2>Diff Only Code Comparison Report</h2></div>
    <p class="note">Visual diff for changed items. Best for code reviewers to inspect exact changes.</p>
    <div class="btns" style="margin-top:6px"><a class="btn outline" href="{{DIFF_HTML_LINK}}" target="_blank">Open Diff Report</a></div>
  </section>

  <section id="bytype" class="section">
    <div class="head"><span class="bar"></span><h2>Changes by Type</h2></div>
    <div class="three" id="bytype">
      <div class="col new"><h3>New (folder-wise)</h3>{{TYPE_COUNTS_NEW}}</div>
      <div class="col chg"><h3>Changed (folder-wise)</h3>{{TYPE_COUNTS_CHANGED}}</div>
      <div class="col rm"><h3>Removed (folder-wise)</h3>{{TYPE_COUNTS_REMOVED}}</div>
    </div>
  </section>
</main>

<footer>This is the end of report.</footer>
</body>
</html>
