<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{{PAGE_TITLE}}</title>
<style>
  :root{
    --blue:#0b5ed7; --blue-quiet:#e9f1ff; --blue-deep:#1e3a8a;
    --black:#0f172a; --white:#ffffff; --gray:#6b7280; --line:#e6e9ef;
    --green:#059669; --red:#dc2626; --muted:#6b7280;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:var(--white);color:var(--black)}
  a{color:var(--blue);text-decoration:none} a:hover{text-decoration:underline}

  header{background:var(--blue);color:var(--white);padding:16px 20px}
  .header-top{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .header-top .right{display:flex;align-items:center;gap:10px}
  .brand img{height:40px;width:auto;display:block;filter:drop-shadow(0 2px 2px rgba(0,0,0,.25))}
  .back{display:inline-flex;align-items:center;gap:6px;font-weight:700;background:rgba(255,255,255,.1);
        border:1px solid rgba(255,255,255,.4);border-radius:999px;padding:6px 10px;color:#fff;text-decoration:none}
  .back:hover{background:rgba(255,255,255,.18);text-decoration:none}

  .title{margin:8px 0 0 0;font-size:20px;font-weight:800}

  /* Button-like tabs */
  .tabs{background:var(--blue-quiet);border-bottom:1px solid var(--line);padding:10px 16px;display:flex;gap:8px;flex-wrap:wrap}
  .tab{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:10px;border:1px solid var(--blue);
       background:#fff;color:var(--blue);font-weight:800;font-size:13px;text-decoration:none}
  .tab:hover{background:var(--blue);color:#fff;text-decoration:none}

  main{padding:20px;max-width:1100px;margin:0 auto}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
  .card{background:#fff;border:1px solid var(--line);border-radius:12px;padding:16px}

  /* KPI */
  .kpis{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
  .kpi{flex:1 1 160px;border:1px solid var(--line);border-radius:10px;padding:12px;text-align:center}
  .kpi .label{color:var(--black);font-size:12px;font-weight:800} /* bold labels */
  .kpi .value{font-size:22px;font-weight:800;margin-top:2px}
  .kpi.new  .value{color:var(--green)}
  .kpi.chg  .value{color:#2563eb}
  .kpi.rm   .value{color:var(--red)}

  .note{color:var(--gray);font-size:14px;line-height:1.5}

  /* Section accents + spacing */
  .section{margin-top:18px}
  .section .head{display:flex;align-items:center;gap:10px;margin-bottom:10px}
  .head .btnlike{display:inline-flex;align-items:center;padding:6px 10px;border:1px solid var(--blue);
                 border-radius:999px;background:#fff;color:var(--blue);font-weight:800}
  .head .btnlike:hover{background:var(--blue);color:#fff;text-decoration:none}
  .head .bar{width:4px;height:16px;background:var(--blue-deep);border-radius:2px}

  /* Downloads */
  .row{display:flex;align-items:center;justify-content:space-between;gap:12px;border:1px solid var(--line);border-radius:10px;padding:12px}
  .row .info{display:flex;flex-direction:column}
  .row .title{font-weight:700}
  .row .desc{color:var(--gray);font-size:13px}
  .btns{display:flex;gap:8px;flex-wrap:wrap}
  .btn{display:inline-block;text-decoration:none;border:1px solid var(--blue);color:var(--blue);
       padding:8px 12px;border-radius:8px;font-weight:800;font-size:13px;transition:all .15s;background:#fff}
  .btn:hover{background:var(--blue);color:#fff}

  /* Changes by type columns */
  .three{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .col{grid-column:span 12;background:#fff;border:1px solid var(--line);border-radius:12px;padding:12px}
  @media(min-width:860px){.col{grid-column:span 4}}

  .col h3{margin:0 0 6px;font-size:15px}
  .col.new h3{color:var(--green)} .col.chg h3{color:#2563eb} .col.rm h3{color:var(--red)}

  .typecounts{list-style:none;margin:4px 0 0;padding:0;display:grid;gap:6px}
  .typecounts li{display:flex;justify-content:space-between;gap:10px;padding:6px 8px;border:1px dashed var(--line);border-radius:8px}
  .typecounts .t{color:#111 !important;}
  .typecounts .c{font-weight:800;}
  .col.new .typecounts .c{color:var(--green) !important;}
  .col.chg .typecounts .c{color:#2563eb !important;}
  .col.rm  .typecounts .c{color:var(--red) !important;}

  footer{background:#0f172a;color:#e2e8f0;text-align:center;padding:6px 10px;margin:24px 0 0;border-top:1px solid #0b1220;font-size:12px;line-height:1.2}
</style>
</head>
<body>

<header>
  <div class="header-top">
    <a class="back" href="../index.html" title="Back to Master Index">← Back</a>
    <div class="right brand"><img src="{{LOGO_HREF}}" alt="Cadence logo"></div>
  </div>
  <h1 class="title">{{TITLE_HEADING}}</h1>
</header>

<nav class="tabs">
  <a class="tab" href="#summary">Summary</a>
  <a class="tab" href="#downloads">Artifacts &amp; Downloads</a>
  <a class="tab" href="#diff">Diff Only Code Comparison Report</a>
  <a class="tab" href="#types">Changes by Type</a>
</nav>

<main>
  <!-- Summary -->
  <section id="summary" class="card section">
    <div class="head">
      <span class="btnlike">Summary</span><span class="bar"></span>
    </div>
    <div class="grid">
      <div class="card" style="grid-column:span 12;">
        <div class="kv">
          <div><strong>Previous Dump</strong></div><div class="mono">{{PREVIOUS_LABEL}}</div>
          <div><strong>Latest Dump</strong></div><div class="mono">{{LATEST_LABEL}}</div>
        </div>
        <p class="note" style="margin-top:10px">
          This report compares the <strong>Latest</strong> production dump against the <strong>Previous</strong> one and classifies changes into:
          <strong>New</strong> (files added), <strong>Changed</strong> (content differs), and <strong>Removed</strong> (present before, missing now).
        </p>
        <div class="kpis" style="margin-top:12px">
          <div class="kpi new">
            <div class="label">New Files</div>
            <div class="value">{{KPI_NEW}}</div>
          </div>
          <div class="kpi chg">
            <div class="label">Changed Files</div>
            <div class="value">{{KPI_CHANGED}}</div>
          </div>
          <div class="kpi rm">
            <div class="label">Removed Files</div>
            <div class="value">{{KPI_REMOVED}}</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Artifacts & Downloads -->
  <section id="downloads" class="card section">
    <div class="head">
      <span class="btnlike">Artifacts &amp; Downloads</span><span class="bar"></span>
    </div>
    <ul class="list" style="list-style:none;padding:0;margin:0;display:grid;gap:12px">
      <li class="row">
        <div class="info">
          <span class="title">Detailed Changes (XLSX)</span>
          <span class="desc">One row per affected file; “File Type” is <em>New File</em> or <em>Content Mismatch</em>.</span>
        </div>
        <div class="btns">
          <a class="btn" href="{{CSV_FULL}}" target="_blank">{{CSV_FULL_LABEL}}</a>
        </div>
      </li>
      <li class="row">
        <div class="info">
          <span class="title">New Files in Latest Dump (CSV)</span>
          <span class="desc">Files present only in Latest.</span>
        </div>
        <div class="btns">
          <a class="btn" href="{{CSV_NEW}}" download>Download CSV</a>
        </div>
      </li>
      <li class="row">
        <div class="info">
          <span class="title">Removed Files (CSV)</span>
          <span class="desc">Files present in Previous but missing in Latest.</span>
        </div>
        <div class="btns">
          <a class="btn" href="{{CSV_REMOVED}}" download>Download CSV</a>
        </div>
      </li>
    </ul>
  </section>

  <!-- Diff Only Code Comparison Report -->
  <section id="diff" class="card section">
    <div class="head">
      <span class="btnlike">Diff Only Code Comparison Report</span><span class="bar"></span>
    </div>
    <p class="note">Visual, side-by-side diffs generated by the comparison script.</p>
    <a class="btn" href="{{DIFF_HTML_LINK}}" target="_blank">Open Diff Report</a>
  </section>

  <!-- Changes by Type -->
  <section id="types" class="card section">
    <div class="head">
      <span class="btnlike">Changes by Type</span><span class="bar"></span>
    </div>
    <div class="three">
      <div class="col new">
        <h3>New (folder-wise)</h3>
        {{TYPE_COUNTS_NEW}}
      </div>
      <div class="col chg">
        <h3>Changed (folder-wise)</h3>
        {{TYPE_COUNTS_CHANGED}}
      </div>
      <div class="col rm">
        <h3>Removed (folder-wise)</h3>
        {{TYPE_COUNTS_REMOVED}}
      </div>
    </div>
  </section>
</main>

<footer>This is the end of report.</footer>
</body>
</html>
